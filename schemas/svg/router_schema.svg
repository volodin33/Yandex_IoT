<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="791px" preserveAspectRatio="none" style="width:1537px;height:791px;background:#FFFFFF;" version="1.1" viewBox="0 0 1537 791" width="1537px" zoomAndPan="magnify"><title>C4 &#8212; Components: Router</title><defs/><g><g class="title" data-source-line="4"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="178.8896" x="672.0552" y="25.1074">C4 &#8212; Components: Router</text></g><!--cluster router--><g class="cluster" data-entity="router" data-source-line="1666" data-uid="ent0004" id="cluster_router"><rect fill="none" height="566" style="stroke:#444444;stroke-width:1;stroke-dasharray:7,7;" width="1113" x="418" y="156.6211"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="223.125" x="862.9375" y="195.8867">Router (.NET MQTT Gateway)</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="62.0039" x="943.498" y="212.8516">[container]</text></g><!--entity mqtt--><g class="entity" data-entity="mqtt" data-source-line="83" data-uid="ent0005" id="entity_mqtt"><rect fill="#85BBF0" height="129.0664" style="stroke:#78A8D8;stroke-width:0.5;" width="211.167" x="923" y="275.1211"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="72.7207" x="992.2231" y="298.0703">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="184.0391" x="936.564" y="318.3477">MqttBackgroundService</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="110.7246" x="973.2212" y="335.3125">[BackgroundService]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="1026.6387" y="353.4316">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.2295" x="933" y="372.0527">&#1055;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1077;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="1022.2295" y="372.0527">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="6.125" x="1026.1191" y="372.0527">&#1082;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="1032.2441" y="372.0527">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.5449" x="1036.1338" y="372.0527">MQTT,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="1079.6787" y="372.0527">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5986" x="1083.5684" y="372.0527">&#1087;&#1088;&#1080;&#1077;&#1084;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.2676" x="948.6338" y="390.6738">&#1089;&#1086;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1081;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="1021.9014" y="390.6738">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14.1982" x="1025.791" y="390.6738">&#1086;&#1090;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="1039.9893" y="390.6738">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.6543" x="1043.8789" y="390.6738">&#1091;&#1089;&#1090;&#1088;&#1086;&#1081;&#1089;&#1090;&#1074;</text></g><!--entity auth--><g class="entity" data-entity="auth" data-source-line="83" data-uid="ent0006" id="entity_auth"><rect fill="#85BBF0" height="129.0664" style="stroke:#78A8D8;stroke-width:0.5;" width="164.0391" x="1342" y="275.1211"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="72.7207" x="1387.6592" y="298.0703">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="144.0391" x="1352" y="318.3477">AuthorizedDevices</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="60.6738" x="1374.3379" y="335.3125">[In-memory</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.334" x="1435.0117" y="335.3125">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35.3555" x="1438.3457" y="335.3125">cache]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="1422.0747" y="353.4316">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.5303" x="1355.3184" y="372.0527">&#1050;&#1101;&#1096;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="1381.8486" y="372.0527">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.9824" x="1385.7383" y="372.0527">&#1072;&#1074;&#1090;&#1086;&#1088;&#1080;&#1079;&#1086;&#1074;&#1072;&#1085;&#1085;&#1099;&#1093;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.6543" x="1359.0132" y="390.6738">&#1091;&#1089;&#1090;&#1088;&#1086;&#1081;&#1089;&#1090;&#1074;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="1423.6675" y="390.6738">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.4688" x="1427.5571" y="390.6738">(deviceId)</text></g><!--entity deviceInfo--><g class="entity" data-entity="deviceInfo" data-source-line="83" data-uid="ent0007" id="entity_deviceInfo"><rect fill="#85BBF0" height="129.0664" style="stroke:#78A8D8;stroke-width:0.5;" width="223.6094" x="476" y="424.1211"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="72.7207" x="551.4443" y="447.0703">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="203.6094" x="486" y="467.3477">DeviceInfoEventConsumer</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="68.6777" x="522.4551" y="484.3125">[MassTransit</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.334" x="591.1328" y="484.3125">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="58.6875" x="594.4668" y="484.3125">Consumer]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="585.8599" y="502.4316">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.2959" x="501.7949" y="521.0527">&#1055;&#1086;&#1083;&#1091;&#1095;&#1072;&#1077;&#1090;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="564.0908" y="521.0527">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.834" x="567.9805" y="521.0527">DeviceInfoEvent,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.708" x="493.144" y="539.6738">&#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1103;&#1077;&#1090;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="561.8521" y="539.6738">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.7236" x="565.7417" y="539.6738">AuthorizedDevices</text></g><!--entity command--><g class="entity" data-entity="command" data-source-line="83" data-uid="ent0008" id="entity_command"><rect fill="#85BBF0" height="147.6875" style="stroke:#78A8D8;stroke-width:0.5;" width="292.0625" x="442" y="240.6211"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="72.7207" x="551.6709" y="263.5703">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="272.0625" x="452" y="283.8477">CommandToDeviceEventConsumer</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="68.6777" x="522.6816" y="300.8125">[MassTransit</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.334" x="591.3594" y="300.8125">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="58.6875" x="594.6934" y="300.8125">Consumer]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="586.0864" y="318.9316">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.2959" x="556.8833" y="337.5527">&#1055;&#1086;&#1083;&#1091;&#1095;&#1072;&#1077;&#1090;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163.3994" x="506.3315" y="356.1738">CommandToDeviceEvent,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.9121" x="498.583" y="374.7949">&#1087;&#1091;&#1073;&#1083;&#1080;&#1082;&#1091;&#1077;&#1090;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="564.4951" y="374.7949">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.2227" x="568.3848" y="374.7949">&#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1091;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="622.6074" y="374.7949">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="7.4375" x="626.4971" y="374.7949">&#1074;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="633.9346" y="374.7949">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.6553" x="637.8242" y="374.7949">MQTT</text></g><!--entity legacy--><g class="entity" data-entity="legacy" data-source-line="83" data-uid="ent0009" id="entity_legacy"><rect fill="#85BBF0" height="110.4453" style="stroke:#78A8D8;stroke-width:0.5;" width="249.4297" x="463.5" y="588.6211"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="72.7207" x="551.8545" y="611.5703">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="229.4297" x="473.5" y="631.8477">LegacyDeviceEventConsumer</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="68.6777" x="522.8652" y="648.8125">[MassTransit</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.334" x="591.543" y="648.8125">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="58.6875" x="594.877" y="648.8125">Consumer]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="586.27" y="666.9316">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.2959" x="493.2534" y="685.5527">&#1055;&#1086;&#1083;&#1091;&#1095;&#1072;&#1077;&#1090;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="555.5493" y="685.5527">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.7373" x="559.439" y="685.5527">LegacyDeviceEvent</text></g><!--entity pub--><g class="entity" data-entity="pub" data-source-line="83" data-uid="ent0010" id="entity_pub"><rect fill="#85BBF0" height="129.0664" style="stroke:#78A8D8;stroke-width:0.5;" width="182.2031" x="1333" y="577.1211"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="72.7207" x="1387.7412" y="600.0703">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="131.5391" x="1358.332" y="620.3477">IPublishEndpoint</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="68.6777" x="1361.415" y="637.3125">[MassTransit</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="3.334" x="1430.0928" y="637.3125">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53.3613" x="1433.4268" y="637.3125">Publisher]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="1422.1567" y="655.4316">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.3936" x="1343" y="674.0527">&#1055;&#1091;&#1073;&#1083;&#1080;&#1082;&#1091;&#1077;&#1090;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="1411.3936" y="674.0527">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.5928" x="1415.2832" y="674.0527">DeviceEvent</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="1493.876" y="674.0527">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="7.4375" x="1497.7656" y="674.0527">&#1074;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.0205" x="1392.5913" y="692.6738">RabbitMQ</text></g><!--entity device--><g class="entity" data-entity="device" data-source-line="413" data-uid="ent0002" id="entity_device"><rect fill="#999999" height="94.4844" style="stroke:#8A8A8A;stroke-width:0.5;" width="140.6797" x="517.5" y="46.6211"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="100.7168" x="537.4814" y="69.5703">&#171;external_system&#187;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="120.6797" x="527.5" y="89.8477">IoT-&#1091;&#1089;&#1090;&#1088;&#1086;&#1081;&#1089;&#1090;&#1074;&#1086;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="585.895" y="108.9707">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.6553" x="549.7261" y="127.5918">MQTT</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="589.3813" y="127.5918">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.6826" x="593.271" y="127.5918">client</text></g><!--entity rabbit--><g class="entity" data-entity="rabbit" data-source-line="84" data-uid="ent0003" id="entity_rabbit"><path d="M11,518.6211 L220.9854,518.6211 C225.9854,518.6211 225.9854,587.4648 225.9854,587.4648 C225.9854,587.4648 225.9854,656.3086 220.9854,656.3086 L11,656.3086 C6,656.3086 6,587.4648 6,587.4648 C6,587.4648 6,518.6211 11,518.6211" fill="#438DD5" style="stroke:#3C7FC0;stroke-width:0.5;"/><path d="M220.9854,518.6211 C215.9854,518.6211 215.9854,587.4648 215.9854,587.4648 C215.9854,656.3086 220.9854,656.3086 220.9854,656.3086" fill="none" style="stroke:#3C7FC0;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="62.7129" x="79.6362" y="536.5703">&#171;container&#187;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="75.5469" x="73.2192" y="556.8477">RabbitMQ</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="42.0059" x="89.9897" y="573.8125">[AMQP]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="109.0479" y="591.9316">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.9443" x="11" y="610.5527">DeviceInfoEvent</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="112.9443" y="610.5527">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="116.834" y="610.5527">/</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="120.7236" y="610.5527">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.5928" x="124.6133" y="610.5527">DeviceEvent</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="203.2061" y="610.5527">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="207.0957" y="610.5527">/</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.5098" x="27.3481" y="629.1738">CommandToDeviceEvent</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="186.8579" y="629.1738">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="190.7476" y="629.1738">/</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.7373" x="49.124" y="647.7949">LegacyDeviceEvent</text></g><!--link device to mqtt--><g class="link" data-entity-1="device" data-entity-2="mqtt" data-source-line="1779" data-uid="lnk11" id="link_device_mqtt"><path d="M658.97,132.8811 C730.06,172.7611 834.043,231.0968 915.643,276.8768" fill="none" id="device-to-mqtt" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="922.62,280.7911,917.1109,274.2604,914.1752,279.4932,922.62,280.7911" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="71.4375" x="793" y="175.5703">&#1058;&#1077;&#1083;&#1077;&#1084;&#1077;&#1090;&#1088;&#1080;&#1103;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40.6582" x="808.3896" y="191.5313">[MQTT]</text></g><!--link mqtt to auth--><g class="link" data-entity-1="mqtt" data-entity-2="auth" data-source-line="1779" data-uid="lnk12" id="link_mqtt_auth"><path d="M1134.18,339.6211 C1199.29,339.6211 1273.78,339.6211 1333.92,339.6211" fill="none" id="mqtt-to-auth" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1341.92,339.6211,1333.92,336.6211,1333.92,342.6211,1341.92,339.6211" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="64.2188" x="1176" y="320.5703">&#1055;&#1088;&#1086;&#1074;&#1077;&#1088;&#1103;&#1077;&#1090;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.334" x="1240.2188" y="320.5703">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="48.0234" x="1243.5527" y="320.5703">deviceId</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63.3398" x="1202.1182" y="336.5313">[in-memory]</text></g><!--link mqtt to pub--><g class="link" data-entity-1="mqtt" data-entity-2="pub" data-source-line="1779" data-uid="lnk13" id="link_mqtt_pub"><path d="M1113.92,404.4111 C1180.31,455.3711 1266.0235,521.1505 1332.3735,572.0705" fill="none" id="mqtt-to-pub" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1338.72,576.9411,1334.2,569.6906,1330.5471,574.4505,1338.72,576.9411" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="62.9414" x="1165" y="443.5703">&#1055;&#1091;&#1073;&#1083;&#1080;&#1082;&#1091;&#1077;&#1090;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.334" x="1227.9414" y="443.5703">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="71.373" x="1231.2754" y="443.5703">DeviceEvent</text></g><!--link pub to rabbit--><g class="link" data-entity-1="pub" data-entity-2="rabbit" data-source-line="1779" data-uid="lnk14" id="link_pub_rabbit"><path d="M1332.81,664.5411 C1154.51,706.2511 745.16,784.1411 410,714.6211 C346.49,701.4511 287.0218,677.2952 233.3518,651.1452" fill="none" id="pub-to-rabbit" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="226.16,647.6411,232.0377,653.8421,234.6658,648.4483,226.16,647.6411" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="71.373" x="793" y="716.5703">DeviceEvent</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="42.0059" x="807.6836" y="732.5313">[AMQP]</text></g><!--link rabbit to deviceInfo--><g class="link" data-entity-1="rabbit" data-entity-2="deviceInfo" data-source-line="1779" data-uid="lnk15" id="link_rabbit_deviceInfo"><path d="M226.01,564.6611 C300.99,548.8711 392.4419,529.6105 467.9019,513.7105" fill="none" id="rabbit-to-deviceInfo" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="475.73,512.0611,467.2833,510.775,468.5204,516.6461,475.73,512.0611" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="93.3633" x="282.5" y="510.5703">DeviceInfoEvent</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="42.0059" x="308.1787" y="526.5313">[AMQP]</text></g><!--link deviceInfo to auth--><g class="link" data-entity-1="deviceInfo" data-entity-2="auth" data-source-line="1779" data-uid="lnk16" id="link_deviceInfo_auth"><path d="M700.04,483.5711 C847.16,476.5911 1092.98,463.8211 1134,454.6211 C1206.72,438.3211 1277.7455,409.5317 1334.4855,383.3617" fill="none" id="deviceInfo-to-auth" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1341.75,380.0111,1333.229,380.6375,1335.7419,386.0859,1341.75,380.0111" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="94.0254" x="981.5" y="435.5703">Upsert(deviceId)</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63.3398" x="996.8428" y="451.5313">[in-memory]</text></g><!--link rabbit to command--><g class="link" data-entity-1="rabbit" data-entity-2="command" data-source-line="1779" data-uid="lnk17" id="link_rabbit_command"><path d="M210.47,518.5811 C225.48,508.2111 241.01,497.9011 256,488.6211 C315.35,451.9011 376.0976,418.9841 434.8676,388.9241" fill="none" id="rabbit-to-command" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="441.99,385.2811,433.5015,386.2532,436.2337,391.595,441.99,385.2811" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="144.7031" x="257" y="389.5703">CommandToDeviceEvent</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="42.0059" x="308.3486" y="405.5313">[AMQP]</text></g><!--link command to mqtt--><g class="link" data-entity-1="command" data-entity-2="mqtt" data-source-line="1779" data-uid="lnk18" id="link_command_mqtt"><path d="M734.1,322.9011 C795.82,326.4211 858.443,329.9857 914.923,333.2057" fill="none" id="command-to-mqtt" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="922.91,333.6611,915.0937,330.2106,914.7522,336.2009,922.91,333.6611" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="62.9414" x="765" y="290.5703">&#1055;&#1091;&#1073;&#1083;&#1080;&#1082;&#1091;&#1077;&#1090;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.334" x="827.9414" y="290.5703">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="50.4258" x="831.2754" y="290.5703">&#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1091;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.334" x="881.7012" y="290.5703">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="7.377" x="885.0352" y="290.5703">&#1074;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="33.9902" x="811.7109" y="306.5313">MQTT</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40.6582" x="808.377" y="322.4922">[MQTT]</text></g><!--link rabbit to legacy--><g class="link" data-entity-1="rabbit" data-entity-2="legacy" data-source-line="1779" data-uid="lnk19" id="link_rabbit_legacy"><path d="M226.01,600.6111 C296.92,609.0611 381.6262,619.1544 455.2962,627.9344" fill="none" id="rabbit-to-legacy" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="463.24,628.8811,455.6512,624.9554,454.9412,630.9133,463.24,628.8811" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="112.7285" x="273" y="587.5703">LegacyDeviceEvent</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="42.0059" x="308.3613" y="603.5313">[AMQP]</text></g><!--link legacy to pub--><g class="link" data-entity-1="legacy" data-entity-2="pub" data-source-line="1779" data-uid="lnk20" id="link_legacy_pub"><path d="M712.51,643.3311 C882.09,642.9211 1175.03,642.2203 1324.94,641.8603" fill="none" id="legacy-to-pub" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1332.94,641.8411,1324.9328,638.8603,1324.9472,644.8603,1332.94,641.8411" style="stroke:#666666;stroke-width:1;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="24" x="958.5" y="607.5703">Map</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.334" x="982.5" y="607.5703">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="112.7285" x="985.834" y="607.5703">LegacyDeviceEvent</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="11.3262" x="985.5146" y="623.5313">to</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="3.334" x="996.8408" y="623.5313">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="71.373" x="1000.1748" y="623.5313">DeviceEvent</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="42.0059" x="1007.5283" y="639.4922">[AMQP]</text></g><!--SRC=[dLJBRXCn5DtFLvYiCbBJRBhghWsXH4gWIQSBLf4pOnABUU7nj8GAAMrL5OIW6rPiAl45K3M2Dctu1ViN-1AkFJDvJOXGL-EvllUUSu-F_OZwjXix1FKu3wFDSfdXm_KkvRsu4qU4sO7FYS_NxS0hXoxsUUovfOWxBksKAnkbNHNQRzJB7euuOH1gLm8l37nL4qAkOTItNZpVjzhrwXEhtQhjFBMAfi4fTmcgRA0_WozeKX1jebOGGnl3sEj3EwzTVSEB3ZcWDbb3XLfWbUIfF9OdSY36uaQjn9KO5s2lqRGiPBiKkXHCemAaCVK9QyOa9aM6EntA8Qkb5uscgjXgD7VLzx5kN_DV1jK3g4Pbb4IoFs3dOT-nWlbmdNIntP-90UmKjxqTnBw3MR_8z40AMozGSVrPrKAQxWxcv13tpOA9ZWm38Hvq2Uz1pX7yeAaiHUyrL-mRyDd6zgikKytt25FOQeIbGN496bsBMp6Id-Mv68fxyKiCaRZLu6j8_0OL8IBka3o6rB7u8J-aQJT8ZEK9oeiDGyvJmp7lAJ7X4p3wbZY98f5YKFDB7l42raSsjdkA5B3wAZ_9zqXy5rVGRwmf_8J-Ln2v5_VoepnR0ejI4zGSKpDujr8kPtAY-UE54ufYZp3j6Hn55iD-H3cQYQVIZO36ER0QWX0BJK0yK0luAjuZUQ5pyX8iQcKdJWBaPPvw6BDbdVJPdWB14OXx2okL24OOYpkjyhKyHQ2fia6Eewjj3HHo_duOlsNN93s_AMWOTvHTTkEEIwDUrNV2W4Bc0b2wdJ0Gbxa9P-ydZ3UvwwO1S2tYJXwIz3g9R-3saRe0gbmvKLvaJmaKgOeaC_KuG0xqYG_b83tpp9MgZ6PkdwjDHblDDYtGgPEdQdO_UwtCP8uiPvNFPsgceoUfwJZx8RpkVEPYBSmm1xNQkWjWa-HCwCl_TUDK_JdqVvjo0JbBJ5Hlu33lFtWsqF86Vm40]--></g></svg>